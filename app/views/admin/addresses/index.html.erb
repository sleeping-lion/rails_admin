<div class="row-fluid">
	<h3 class="pull-left"><%= @controller_name %> <%=actionNameChange controller.action_name %></h3>
	<%=form_tag addresses_path,:method=>:get,:class=>"form-search pull-right" do %>
		<select name="search_field" class="input-small">
			<option value="id" <% if params[:search_field]=='id' %>selected="selected"<% end %>>ID</option>
			<option value="address" <% if params[:search_field]=='address'%>selected="selected"<% end %>><%=t(:label_address) %></option>
		</select>
		<div class="input-append">
			<input type="text" name="search_value" value="<%=params[:search_value] %>" class="input-medium" />
			<%=button_tag t(:search),:type=>'submit',:class=>"btn" %>
		</div>
	<% end %>
</div>
<table class="table table-bordered table-striped">
	<colgroup>
		<col style="width:80px;" />
		<col style="width:80px;" />
		<col style="width:140px;" />
		<col />
		<col style="width:80px;" />
		<col style="width:140px;" />
		<% if can?(:update, Address) || can?(:delete, Address) %>
		<col <%=raw manage_width(Address) %> />
		<% end %>
	</colgroup>
	<thead>
		<tr>
			<th><%=t(:label_number)%></th>
			<th><%=t(:label_parent_address)%></th>
			<th><%=t(:label_address)%></th>
			<th><%=t(:label_full_address)%></th>
			<th><%=t(:label_flag)%></th>
			<th><%=t(:label_created_at)%></th>
			<% if can?(:update, Address) || can?(:delete, Address) %>
			<th><%=t(:label_manage)%></th>
			<% end %>
		</tr>
	</thead>
	<tbody>
		<% unless @addresses.empty? %>
		<% @addresses.each do |address| %>
		<tr>
			<td><%=link_to address.id,address_path(address.id,params) %></td>
			<td><%=link_to address.parent_address_id,address_path(address.parent_address_id,params) %></td>
			<td><%=link_to address.name,address_path(address.id,params) %></td>
			<td><%=link_to address.full_address,address_path(address.id,params) %></td>
			<td><%= raw flagToString(address.flag) %></td>
			<td><%= address.created_at.to_date %></td>
			<% if can?(:update, Address) || can?(:delete, Address) %>	
			<td>
			<% if can? :update, Address %>
			<%= link_to edit_address_path(address),:class=>"btn btn-small pull-left" do %>
			<i class="icon-pencil"></i> <%= t(:link_edit) %>
			<% end %>
			<% end %>
			<% if can? :delete, Address %>
			<%= link_to address, :method => :delete, :data => { :confirm => t(:delete_cascade_confirm) },:class=>"btn btn-small btn-danger pull-right" do %>
			<i class="icon-trash"></i> <%= t(:link_delete) %>
			<% end %>
			<% end %>
			</td>
			<% end %>
		</tr>
		<% end %>
		<% else %>
		<tr>
			<td colspan="7"><%=t(:no_data)%></td>
		</tr>
		<% end %>
	</tbody>
</table>
<div class="row-fluid">
	<div class="pull-left">
		<% if can? :create, Address %>		
		<%= link_to new_address_path, :class=>"btn" do %>
		<i class="icon-plus"></i> <%= t(:link_new) %>
		<% end %>
		<% end %>
		<% unless @addresses.empty? %>
		<%=link_to addresses_path(:format=>"xls",:params=>params), :class=>"btn" do %>
		<i class="icon-file"></i> <%=t(:link_download_excel) %>
		<% end %>
		<% end %>
	</div>
	<%= paginate @addresses %>
</div>